// js/widgets/mosaic.ts
import {
  parseSpec
} from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-spec@0.16.2/+esm";
import { throttle } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";

// js/context/index.ts
import { wasmConnector } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";
import { InstantiateContext } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-spec@0.16.2/+esm";

// js/context/duckdb.ts
import {
  getJsDelivrBundles,
  selectBundle,
  AsyncDuckDB,
  ConsoleLogger,
  LogLevel
} from "https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm@1.29.0/+esm";
async function initDuckdb() {
  const JSDELIVR_BUNDLES = getJsDelivrBundles();
  const bundle = await selectBundle(JSDELIVR_BUNDLES);
  const worker_url = URL.createObjectURL(
    new Blob([`importScripts("${bundle.mainWorker}");`], {
      type: "text/javascript"
    })
  );
  const worker = new Worker(worker_url);
  const logger = new ConsoleLogger(LogLevel.WARNING);
  const db = new AsyncDuckDB(logger, worker);
  await db.instantiate(bundle.mainModule, bundle.pthreadWorker);
  URL.revokeObjectURL(worker_url);
  return db;
}
async function waitForTable(conn, table, { timeout = 1e4, interval = 250 } = {}) {
  const t0 = performance.now();
  while (true) {
    try {
      const res = await conn.query(
        `SELECT 1
           FROM information_schema.tables
         WHERE table_schema = 'main'
           AND table_name   = '${table}'
         LIMIT 1`
      );
      if (res.numRows) return;
    } catch (err) {
      console.log(
        `Table ${table} not yet available, trying again in ${interval}ms (error: ${err})`
      );
    }
    if (performance.now() - t0 > timeout) {
      throw new Error(`Timed out waiting for table "${table}"`);
    }
    await new Promise((r) => setTimeout(r, interval));
  }
}

// js/inputs/input.ts
import {
  coordinator,
  MosaicClient
} from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";
function input(InputClass, ...params) {
  const input2 = new InputClass(...params);
  coordinator().connect(input2);
  return input2.element;
}
var Input = class extends MosaicClient {
  constructor(filterBy, element, className = "input") {
    super(filterBy);
    this.element = element || document.createElement("div");
    if (className) this.element.setAttribute("class", className);
    Object.defineProperty(this.element, "value", { value: this });
  }
  activate() {
  }
};

// js/inputs/radio.ts
var Radio = class extends Input {
  constructor(options) {
    super(options.filterBy, options.element);
    const strongEl = window.document.createElement("strong");
    strongEl.innerText = "STRONG";
    this.element.appendChild(strongEl);
  }
};

// js/inputs/index.ts
var CUSTOM_INPUTS = {
  radio: (options) => input(Radio, options)
};

// js/context/index.ts
var VizContext = class extends InstantiateContext {
  constructor(conn_) {
    super();
    this.conn_ = conn_;
    this.tables_ = /* @__PURE__ */ new Set();
    this.api = { ...this.api, ...CUSTOM_INPUTS };
    this.coordinator.databaseConnector(wasmConnector({ connection: this.conn_ }));
  }
  async insertTable(table, data) {
    await this.conn_?.insertArrowFromIPCStream(data, {
      name: table,
      create: true
    });
    this.tables_.add(table);
  }
  async waitForTable(table) {
    await waitForTable(this.conn_, table);
  }
};
var VIZ_CONTEXT_KEY = Symbol.for("@@inspect-viz-context");
async function vizContext() {
  const globalScope = typeof window !== "undefined" ? window : globalThis;
  if (!globalScope[VIZ_CONTEXT_KEY]) {
    globalScope[VIZ_CONTEXT_KEY] = (async () => {
      const duckdb = await initDuckdb();
      const conn = await duckdb.connect();
      return new VizContext(conn);
    })();
  }
  return globalScope[VIZ_CONTEXT_KEY];
}

// js/widgets/mosaic.ts
async function render({ model, el }) {
  const tables = model.get("tables") || {};
  const spec_json = model.get("spec");
  const ctx = await vizContext();
  for (const [tableName, base64Data] of Object.entries(tables)) {
    if (base64Data) {
      const binaryString = atob(base64Data);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      await ctx.insertTable(tableName, bytes);
    } else {
      await ctx.waitForTable(tableName);
    }
  }
  const widgetEl = el.closest(".widget-subarea");
  if (widgetEl) {
    widgetEl.style.marginBottom = "0";
  }
  const autoFill = window.document.body.classList.contains("quarto-dashboard") && window.document.body.classList.contains("dashboard-fill");
  const spec = JSON.parse(spec_json);
  const renderSpec = async () => {
    const targetSpec = autoFill ? sizeToContainer(spec, el) : spec;
    const inputs = new Set(
      ["menu", "search", "slider", "table"].concat(Object.keys(CUSTOM_INPUTS))
    );
    const ast = parseSpec(targetSpec, { inputs });
    const { element } = await astToDOM(ast, ctx);
    el.innerHTML = "";
    el.appendChild(element);
  };
  await renderSpec();
  if (autoFill) {
    const resizeObserver = new ResizeObserver(throttle(renderSpec));
    resizeObserver.observe(el);
    return () => {
      resizeObserver.disconnect();
    };
  }
}
async function astToDOM(ast, ctx) {
  for (const [name, node] of Object.entries(ast.params)) {
    if (!ctx.activeParams.has(name)) {
      const param = node.instantiate(ctx);
      ctx.activeParams.set(name, param);
    }
  }
  return {
    element: ast.root.instantiate(ctx),
    params: ctx.activeParams
  };
}
function sizeToContainer(spec, containerEl) {
  spec = structuredClone(spec);
  if ("plot" in spec) {
    const plot = spec.plot[0];
    if ("width" in plot && "height" in plot) {
      plot.width = containerEl.clientWidth;
      plot.height = containerEl.clientHeight;
    }
  } else if ("hconcat" in spec) {
    const hconcat = spec.hconcat;
    if ("plot" in hconcat[0]) {
      hconcat[0].width = containerEl.clientWidth;
      hconcat[0].height = containerEl.clientHeight;
    }
  } else if ("vconcat" in spec) {
    const vconcat = spec.vconcat;
    if ("plot" in vconcat[0]) {
      vconcat[0].width = containerEl.clientWidth;
      vconcat[0].height = containerEl.clientHeight;
    }
  }
  return spec;
}
var mosaic_default = { render };
export {
  mosaic_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vanMvd2lkZ2V0cy9tb3NhaWMudHMiLCAiLi4vLi4vLi4vanMvY29udGV4dC9pbmRleC50cyIsICIuLi8uLi8uLi9qcy9jb250ZXh0L2R1Y2tkYi50cyIsICIuLi8uLi8uLi9qcy9pbnB1dHMvaW5wdXQudHMiLCAiLi4vLi4vLi4vanMvaW5wdXRzL3JhZGlvLnRzIiwgIi4uLy4uLy4uL2pzL2lucHV0cy9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBSZW5kZXJQcm9wcyB9IGZyb20gJ0Bhbnl3aWRnZXQvdHlwZXMnO1xuXG5pbXBvcnQge1xuICAgIFNwZWMsXG4gICAgU3BlY05vZGUsXG4gICAgcGFyc2VTcGVjLFxuICAgIEluc3RhbnRpYXRlQ29udGV4dCxcbiAgICBBU1ROb2RlLFxufSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLXNwZWNAMC4xNi4yLytlc20nO1xuXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQHV3ZGF0YS9tb3NhaWMtY29yZUAwLjE2LjIvK2VzbSc7XG5cbmltcG9ydCB7IHZpekNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0JztcbmltcG9ydCB7IENVU1RPTV9JTlBVVFMgfSBmcm9tICcuLi9pbnB1dHMnO1xuXG5pbnRlcmZhY2UgTW9zYWljUHJvcHMge1xuICAgIHRhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBzcGVjOiBzdHJpbmc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbmRlcih7IG1vZGVsLCBlbCB9OiBSZW5kZXJQcm9wczxNb3NhaWNQcm9wcz4pIHtcbiAgICAvLyB1bndyYXAgd2lkZ2V0IHBhcmFtZXRlcnNcbiAgICBjb25zdCB0YWJsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSBtb2RlbC5nZXQoJ3RhYmxlcycpIHx8IHt9O1xuICAgIGNvbnN0IHNwZWNfanNvbjogc3RyaW5nID0gbW9kZWwuZ2V0KCdzcGVjJyk7XG5cbiAgICAvLyBnZXQgY29udGV4dFxuICAgIGNvbnN0IGN0eCA9IGF3YWl0IHZpekNvbnRleHQoKTtcblxuICAgIC8vIGhhbmRsZSB0YWJsZXNcbiAgICBmb3IgKGNvbnN0IFt0YWJsZU5hbWUsIGJhc2U2NERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHRhYmxlcykpIHtcbiAgICAgICAgaWYgKGJhc2U2NERhdGEpIHtcbiAgICAgICAgICAgIC8vIGRlY29kZSBiYXNlNjQgdG8gYnl0ZXNcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0RGF0YSk7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbnNlcnQgdGFibGUgaW50byBjb250ZXh0XG4gICAgICAgICAgICBhd2FpdCBjdHguaW5zZXJ0VGFibGUodGFibGVOYW1lLCBieXRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB0YWJsZSBpZiBubyBkYXRhIHByb3ZpZGVkXG4gICAgICAgICAgICBhd2FpdCBjdHgud2FpdEZvclRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtb3NhaWMgd2lkZ2V0cyBhbHJlYWR5IGhhdmUgc3VmZmljaWVudCBtYXJnaW4vcGFkZGluZyBzbyBvdmVycmlkZVxuICAgIC8vIGFueSBob3N0IHByZXNjcmliZWQgYm90dG9tIG1hcmdpbi5cbiAgICBjb25zdCB3aWRnZXRFbCA9IGVsLmNsb3Nlc3QoJy53aWRnZXQtc3ViYXJlYScpIGFzIEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIGlmICh3aWRnZXRFbCkge1xuICAgICAgICB3aWRnZXRFbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMCc7XG4gICAgfVxuXG4gICAgLy8gZGV0ZWN0IHdoZXRoZXIgd2Ugc2hvdWxkIGJlIGF1dG8tZmlsbGluZyBvdXIgY29udGFpbmVyXG4gICAgY29uc3QgYXV0b0ZpbGwgPVxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3F1YXJ0by1kYXNoYm9hcmQnKSAmJlxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2Rhc2hib2FyZC1maWxsJyk7XG5cbiAgICAvLyByZW5kZXIgc3BlYyBhY2NvcmRpbmcgdG8gY29udGFpbmVyIHNpemVcbiAgICBjb25zdCBzcGVjOiBTcGVjID0gSlNPTi5wYXJzZShzcGVjX2pzb24pO1xuICAgIGNvbnN0IHJlbmRlclNwZWMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFNwZWMgPSBhdXRvRmlsbCA/IHNpemVUb0NvbnRhaW5lcihzcGVjLCBlbCkgOiBzcGVjO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgWydtZW51JywgJ3NlYXJjaCcsICdzbGlkZXInLCAndGFibGUnXS5jb25jYXQoT2JqZWN0LmtleXMoQ1VTVE9NX0lOUFVUUykpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGFzdCA9IHBhcnNlU3BlYyh0YXJnZXRTcGVjLCB7IGlucHV0cyB9KTtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSBhd2FpdCBhc3RUb0RPTShhc3QsIGN0eCk7XG4gICAgICAgIGVsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9O1xuICAgIGF3YWl0IHJlbmRlclNwZWMoKTtcblxuICAgIC8vIHJlLXJlbmRlciB3aGVuIHNpemUgY2hhbmdlcyBpbiBxdWFydG8gZGFzaGJvYXJkc1xuICAgIGlmIChhdXRvRmlsbCkge1xuICAgICAgICAvLyByZS1yZW5kZXIgb24gY29udGFpbmVyIHNpemUgY2hhbmdlZFxuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aHJvdHRsZShyZW5kZXJTcGVjKSk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWwpO1xuXG4gICAgICAgIC8vIGNsZWFudXAgcmVzaXplIG9ic2VydmVyIG9uIGRpc2Nvbm5lY3RcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFzdFRvRE9NKGFzdDogU3BlY05vZGUsIGN0eDogSW5zdGFudGlhdGVDb250ZXh0KSB7XG4gICAgLy8gcHJvY2VzcyBwYXJhbS9zZWxlY3Rpb24gZGVmaW5pdGlvbnNcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBub2RlXSBvZiBPYmplY3QuZW50cmllcyhhc3QucGFyYW1zKSkge1xuICAgICAgICAvLyBza2lwIGRlZmluaXRpb25zIHdpdGggbmFtZXMgYWxyZWFkeSBkZWZpbmVkXG4gICAgICAgIGlmICghY3R4LmFjdGl2ZVBhcmFtcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gKG5vZGUgYXMgQVNUTm9kZSkuaW5zdGFudGlhdGUoY3R4KTtcbiAgICAgICAgICAgIGN0eC5hY3RpdmVQYXJhbXMuc2V0KG5hbWUsIHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGluc3RhbnRpYXRlIGFuZCByZXR1cm4gcm9vdCBjb250ZXh0ICsgcGFyYW1zXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudDogYXN0LnJvb3QuaW5zdGFudGlhdGUoY3R4KSxcbiAgICAgICAgcGFyYW1zOiBjdHguYWN0aXZlUGFyYW1zLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHNpemVUb0NvbnRhaW5lcihzcGVjOiBTcGVjLCBjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiBTcGVjIHtcbiAgICBzcGVjID0gc3RydWN0dXJlZENsb25lKHNwZWMpO1xuICAgIGlmICgncGxvdCcgaW4gc3BlYykge1xuICAgICAgICBjb25zdCBwbG90ID0gc3BlYy5wbG90WzBdO1xuICAgICAgICBpZiAoJ3dpZHRoJyBpbiBwbG90ICYmICdoZWlnaHQnIGluIHBsb3QpIHtcbiAgICAgICAgICAgIHBsb3Qud2lkdGggPSBjb250YWluZXJFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHBsb3QuaGVpZ2h0ID0gY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICgnaGNvbmNhdCcgaW4gc3BlYykge1xuICAgICAgICBjb25zdCBoY29uY2F0ID0gc3BlYy5oY29uY2F0O1xuICAgICAgICBpZiAoJ3Bsb3QnIGluIGhjb25jYXRbMF0pIHtcbiAgICAgICAgICAgIGhjb25jYXRbMF0ud2lkdGggPSBjb250YWluZXJFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIGhjb25jYXRbMF0uaGVpZ2h0ID0gY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICgndmNvbmNhdCcgaW4gc3BlYykge1xuICAgICAgICBjb25zdCB2Y29uY2F0ID0gc3BlYy52Y29uY2F0O1xuICAgICAgICBpZiAoJ3Bsb3QnIGluIHZjb25jYXRbMF0pIHtcbiAgICAgICAgICAgIHZjb25jYXRbMF0ud2lkdGggPSBjb250YWluZXJFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHZjb25jYXRbMF0uaGVpZ2h0ID0gY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcGVjO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IHJlbmRlciB9O1xuIiwgImltcG9ydCB7IEFzeW5jRHVja0RCQ29ubmVjdGlvbiB9IGZyb20gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQGR1Y2tkYi9kdWNrZGItd2FzbUAxLjI5LjAvK2VzbSc7XG5cbmltcG9ydCB7IHdhc21Db25uZWN0b3IgfSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLWNvcmVAMC4xNi4yLytlc20nO1xuXG5pbXBvcnQgeyBJbnN0YW50aWF0ZUNvbnRleHQgfSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLXNwZWNAMC4xNi4yLytlc20nO1xuXG5pbXBvcnQgeyBpbml0RHVja2RiLCB3YWl0Rm9yVGFibGUgfSBmcm9tICcuL2R1Y2tkYic7XG5pbXBvcnQgeyBDVVNUT01fSU5QVVRTIH0gZnJvbSAnLi4vaW5wdXRzJztcblxuY2xhc3MgVml6Q29udGV4dCBleHRlbmRzIEluc3RhbnRpYXRlQ29udGV4dCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0YWJsZXNfID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbm5fOiBBc3luY0R1Y2tEQkNvbm5lY3Rpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hcGkgPSB7IC4uLnRoaXMuYXBpLCAuLi5DVVNUT01fSU5QVVRTIH07XG4gICAgICAgIHRoaXMuY29vcmRpbmF0b3IuZGF0YWJhc2VDb25uZWN0b3Iod2FzbUNvbm5lY3Rvcih7IGNvbm5lY3Rpb246IHRoaXMuY29ubl8gfSkpO1xuICAgIH1cblxuICAgIGFzeW5jIGluc2VydFRhYmxlKHRhYmxlOiBzdHJpbmcsIGRhdGE6IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgLy8gaW5zZXJ0IHRhYmxlIGludG8gZGF0YWJhc2VcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uXz8uaW5zZXJ0QXJyb3dGcm9tSVBDU3RyZWFtKGRhdGEsIHtcbiAgICAgICAgICAgIG5hbWU6IHRhYmxlLFxuICAgICAgICAgICAgY3JlYXRlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgdG8gbGlzdCBvZiB0YWJsZXNcbiAgICAgICAgdGhpcy50YWJsZXNfLmFkZCh0YWJsZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgd2FpdEZvclRhYmxlKHRhYmxlOiBzdHJpbmcpIHtcbiAgICAgICAgYXdhaXQgd2FpdEZvclRhYmxlKHRoaXMuY29ubl8sIHRhYmxlKTtcbiAgICB9XG59XG5cbi8vIGdldCB0aGUgZ2xvYmFsIGNvbnRleHQgaW5zdGFuY2UsIGVuc3VyaW5nIHdlIGdldCB0aGUgc2FtZVxuLy8gaW5zdGFuY2UgZXZhbCBhY3Jvc3MgZGlmZmVyZW50IGpzIGJ1bmRsZXMgbG9hZGVkIGludG8gdGhlIHBhZ2VcbmNvbnN0IFZJWl9DT05URVhUX0tFWSA9IFN5bWJvbC5mb3IoJ0BAaW5zcGVjdC12aXotY29udGV4dCcpO1xuYXN5bmMgZnVuY3Rpb24gdml6Q29udGV4dCgpOiBQcm9taXNlPFZpekNvbnRleHQ+IHtcbiAgICBjb25zdCBnbG9iYWxTY29wZTogYW55ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWxUaGlzO1xuICAgIGlmICghZ2xvYmFsU2NvcGVbVklaX0NPTlRFWFRfS0VZXSkge1xuICAgICAgICBnbG9iYWxTY29wZVtWSVpfQ09OVEVYVF9LRVldID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGR1Y2tkYiA9IGF3YWl0IGluaXREdWNrZGIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbm4gPSBhd2FpdCBkdWNrZGIuY29ubmVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWaXpDb250ZXh0KGNvbm4pO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsU2NvcGVbVklaX0NPTlRFWFRfS0VZXSBhcyBQcm9taXNlPFZpekNvbnRleHQ+O1xufVxuXG5leHBvcnQgeyBWaXpDb250ZXh0LCB2aXpDb250ZXh0IH07XG4iLCAiaW1wb3J0IHtcbiAgICBnZXRKc0RlbGl2ckJ1bmRsZXMsXG4gICAgc2VsZWN0QnVuZGxlLFxuICAgIEFzeW5jRHVja0RCLFxuICAgIENvbnNvbGVMb2dnZXIsXG4gICAgQXN5bmNEdWNrREJDb25uZWN0aW9uLFxuICAgIExvZ0xldmVsLFxufSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BkdWNrZGIvZHVja2RiLXdhc21AMS4yOS4wLytlc20nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdER1Y2tkYigpIHtcbiAgICBjb25zdCBKU0RFTElWUl9CVU5ETEVTID0gZ2V0SnNEZWxpdnJCdW5kbGVzKCk7XG5cbiAgICAvLyBTZWxlY3QgYSBidW5kbGUgYmFzZWQgb24gYnJvd3NlciBjaGVja3NcbiAgICBjb25zdCBidW5kbGUgPSBhd2FpdCBzZWxlY3RCdW5kbGUoSlNERUxJVlJfQlVORExFUyk7XG5cbiAgICBjb25zdCB3b3JrZXJfdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChcbiAgICAgICAgbmV3IEJsb2IoW2BpbXBvcnRTY3JpcHRzKFwiJHtidW5kbGUubWFpbldvcmtlciF9XCIpO2BdLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyxcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gSW5zdGFudGlhdGUgdGhlIGFzeW5jaHJvbm91cyB2ZXJzaW9uIG9mIER1Y2tEQi13YXNtXG4gICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJfdXJsKTtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUxvZ2dlcihMb2dMZXZlbC5XQVJOSU5HKTtcbiAgICBjb25zdCBkYiA9IG5ldyBBc3luY0R1Y2tEQihsb2dnZXIsIHdvcmtlcik7XG4gICAgYXdhaXQgZGIuaW5zdGFudGlhdGUoYnVuZGxlLm1haW5Nb2R1bGUsIGJ1bmRsZS5wdGhyZWFkV29ya2VyKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlcl91cmwpO1xuXG4gICAgcmV0dXJuIGRiO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclRhYmxlKFxuICAgIGNvbm46IEFzeW5jRHVja0RCQ29ubmVjdGlvbixcbiAgICB0YWJsZTogc3RyaW5nLFxuICAgIHsgdGltZW91dCA9IDEwXzAwMCwgaW50ZXJ2YWwgPSAyNTAgfSA9IHt9XG4pIHtcbiAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNvbm4ucXVlcnkoXG4gICAgICAgICAgICAgICAgYFNFTEVDVCAxXG4gICAgICAgICAgIEZST00gaW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlc1xuICAgICAgICAgV0hFUkUgdGFibGVfc2NoZW1hID0gJ21haW4nXG4gICAgICAgICAgIEFORCB0YWJsZV9uYW1lICAgPSAnJHt0YWJsZX0nXG4gICAgICAgICBMSU1JVCAxYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHJlcy5udW1Sb3dzKSByZXR1cm47IC8vIHN1Y2Nlc3MgXHUyNzI4XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgYFRhYmxlICR7dGFibGV9IG5vdCB5ZXQgYXZhaWxhYmxlLCB0cnlpbmcgYWdhaW4gaW4gJHtpbnRlcnZhbH1tcyAoZXJyb3I6ICR7ZXJyfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpIC0gdDAgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRpbWVkIG91dCB3YWl0aW5nIGZvciB0YWJsZSBcIiR7dGFibGV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgaW50ZXJ2YWwpKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgICBjb29yZGluYXRvcixcbiAgICBNb3NhaWNDbGllbnQsXG4gICAgU2VsZWN0aW9uLFxufSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLWNvcmVAMC4xNi4yLytlc20nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElucHV0T3B0aW9ucyB7XG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgZmlsdGVyQnk6IFNlbGVjdGlvbjtcbn1cblxuZXhwb3J0IHR5cGUgSW5wdXRGdW5jdGlvbiA9IChvcHRpb25zOiBJbnB1dE9wdGlvbnMpID0+IEhUTUxFbGVtZW50O1xuXG5leHBvcnQgZnVuY3Rpb24gaW5wdXQ8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IElucHV0PihcbiAgICBJbnB1dENsYXNzOiBULFxuICAgIC4uLnBhcmFtczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPFQ+XG4pOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgaW5wdXQgPSBuZXcgSW5wdXRDbGFzcyguLi5wYXJhbXMpO1xuICAgIGNvb3JkaW5hdG9yKCkuY29ubmVjdChpbnB1dCk7XG4gICAgcmV0dXJuIGlucHV0LmVsZW1lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBJbnB1dCBleHRlbmRzIE1vc2FpY0NsaWVudCB7XG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIGNvbnN0cnVjdG9yKGZpbHRlckJ5OiBTZWxlY3Rpb24sIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyA9ICdpbnB1dCcpIHtcbiAgICAgICAgc3VwZXIoZmlsdGVyQnkpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKSB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsICd2YWx1ZScsIHsgdmFsdWU6IHRoaXMgfSk7XG4gICAgfVxuXG4gICAgYWN0aXZhdGUoKSB7XG4gICAgICAgIC8vIHN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlXG4gICAgfVxufVxuIiwgImltcG9ydCB7IElucHV0T3B0aW9ucywgSW5wdXQgfSBmcm9tICcuL2lucHV0JztcblxuZXhwb3J0IGNsYXNzIFJhZGlvIGV4dGVuZHMgSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IElucHV0T3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLmZpbHRlckJ5LCBvcHRpb25zLmVsZW1lbnQpO1xuICAgICAgICBjb25zdCBzdHJvbmdFbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHJvbmcnKTtcbiAgICAgICAgc3Ryb25nRWwuaW5uZXJUZXh0ID0gJ1NUUk9ORyc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChzdHJvbmdFbCk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJhZGlvIH0gZnJvbSAnLi9yYWRpbyc7XG5pbXBvcnQgeyBpbnB1dCwgSW5wdXRGdW5jdGlvbiB9IGZyb20gJy4vaW5wdXQnO1xuXG5leHBvcnQgY29uc3QgQ1VTVE9NX0lOUFVUUzogUmVjb3JkPHN0cmluZywgSW5wdXRGdW5jdGlvbj4gPSB7XG4gICAgcmFkaW86IG9wdGlvbnMgPT4gaW5wdXQoUmFkaW8sIG9wdGlvbnMpLFxufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFFQTtBQUFBLEVBR0k7QUFBQSxPQUdHO0FBRVAsU0FBUyxnQkFBZ0I7OztBQ1J6QixTQUFTLHFCQUFxQjtBQUU5QixTQUFTLDBCQUEwQjs7O0FDSm5DO0FBQUEsRUFDSTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFD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
