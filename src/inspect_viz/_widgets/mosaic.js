// js/widgets/mosaic.ts
import {
  parseSpec
} from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-spec@0.16.2/+esm";
import { throttle } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";

// js/context/index.ts
import { wasmConnector } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";
import { InstantiateContext } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-spec@0.16.2/+esm";

// js/context/duckdb.ts
import {
  getJsDelivrBundles,
  selectBundle,
  AsyncDuckDB,
  ConsoleLogger,
  LogLevel
} from "https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm@1.29.0/+esm";
async function initDuckdb() {
  const JSDELIVR_BUNDLES = getJsDelivrBundles();
  const bundle = await selectBundle(JSDELIVR_BUNDLES);
  const worker_url = URL.createObjectURL(
    new Blob([`importScripts("${bundle.mainWorker}");`], {
      type: "text/javascript"
    })
  );
  const worker = new Worker(worker_url);
  const logger = new ConsoleLogger(LogLevel.WARNING);
  const db = new AsyncDuckDB(logger, worker);
  await db.instantiate(bundle.mainModule, bundle.pthreadWorker);
  URL.revokeObjectURL(worker_url);
  return db;
}
async function waitForTable(conn, table, { timeout = 1e4, interval = 250 } = {}) {
  const t0 = performance.now();
  while (true) {
    try {
      const res = await conn.query(
        `SELECT 1
           FROM information_schema.tables
         WHERE table_schema = 'main'
           AND table_name   = '${table}'
         LIMIT 1`
      );
      if (res.numRows) return;
    } catch (err) {
      console.log(
        `Table ${table} not yet available, trying again in ${interval}ms (error: ${err})`
      );
    }
    if (performance.now() - t0 > timeout) {
      throw new Error(`Timed out waiting for table "${table}"`);
    }
    await new Promise((r) => setTimeout(r, interval));
  }
}

// js/inputs/radio.ts
import { coordinator } from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";

// js/inputs/types.ts
import {
  MosaicClient
} from "https://cdn.jsdelivr.net/npm/@uwdata/mosaic-core@0.16.2/+esm";
var Input = class extends MosaicClient {
  constructor(filterBy, element, className = "input") {
    super(filterBy);
    this.element = element || document.createElement("div");
    if (className) this.element.setAttribute("class", className);
    Object.defineProperty(this.element, "value", { value: this });
  }
  activate() {
  }
};

// js/inputs/radio.ts
var RadioInput = class extends Input {
  constructor(options) {
    super(options.filterBy, options.element);
    const strongEl = window.document.createElement("strong");
    strongEl.innerText = "STRONG";
    this.element.appendChild(strongEl);
  }
};
function radio(options) {
  const input = new RadioInput(options);
  coordinator().connect(input);
  return input.element;
}

// js/inputs/index.ts
var customInputs = {
  radio
};

// js/context/index.ts
var VizContext = class extends InstantiateContext {
  constructor(conn_) {
    super();
    this.conn_ = conn_;
    this.tables_ = /* @__PURE__ */ new Set();
    this.api = { ...this.api, ...customInputs };
    this.coordinator.databaseConnector(wasmConnector({ connection: this.conn_ }));
  }
  async insertTable(table, data) {
    await this.conn_?.insertArrowFromIPCStream(data, {
      name: table,
      create: true
    });
    this.tables_.add(table);
  }
  async waitForTable(table) {
    await waitForTable(this.conn_, table);
  }
};
var VIZ_CONTEXT_KEY = Symbol.for("@@inspect-viz-context");
async function vizContext() {
  const globalScope = typeof window !== "undefined" ? window : globalThis;
  if (!globalScope[VIZ_CONTEXT_KEY]) {
    globalScope[VIZ_CONTEXT_KEY] = (async () => {
      const duckdb = await initDuckdb();
      const conn = await duckdb.connect();
      return new VizContext(conn);
    })();
  }
  return globalScope[VIZ_CONTEXT_KEY];
}

// js/widgets/mosaic.ts
async function render({ model, el }) {
  const tables = model.get("tables") || {};
  const spec_json = model.get("spec");
  const ctx = await vizContext();
  for (const [tableName, base64Data] of Object.entries(tables)) {
    if (base64Data) {
      const binaryString = atob(base64Data);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      await ctx.insertTable(tableName, bytes);
    } else {
      await ctx.waitForTable(tableName);
    }
  }
  const widgetEl = el.closest(".widget-subarea");
  if (widgetEl) {
    widgetEl.style.marginBottom = "0";
  }
  const autoFill = window.document.body.classList.contains("quarto-dashboard") && window.document.body.classList.contains("dashboard-fill");
  const spec = JSON.parse(spec_json);
  const renderSpec = async () => {
    const targetSpec = autoFill ? sizeToContainer(spec, el) : spec;
    const inputs = new Set(
      ["menu", "search", "slider", "table"].concat(Object.keys(customInputs))
    );
    const ast = parseSpec(targetSpec, { inputs });
    const { element } = await astToDOM(ast, ctx);
    el.innerHTML = "";
    el.appendChild(element);
  };
  await renderSpec();
  if (autoFill) {
    const resizeObserver = new ResizeObserver(throttle(renderSpec));
    resizeObserver.observe(el);
    return () => {
      resizeObserver.disconnect();
    };
  }
}
async function astToDOM(ast, ctx) {
  for (const [name, node] of Object.entries(ast.params)) {
    if (!ctx.activeParams.has(name)) {
      const param = node.instantiate(ctx);
      ctx.activeParams.set(name, param);
    }
  }
  return {
    element: ast.root.instantiate(ctx),
    params: ctx.activeParams
  };
}
function sizeToContainer(spec, containerEl) {
  spec = structuredClone(spec);
  if ("plot" in spec) {
    const plot = spec.plot[0];
    if ("width" in plot && "height" in plot) {
      plot.width = containerEl.clientWidth;
      plot.height = containerEl.clientHeight;
    }
  } else if ("hconcat" in spec) {
    const hconcat = spec.hconcat;
    if ("plot" in hconcat[0]) {
      hconcat[0].width = containerEl.clientWidth;
      hconcat[0].height = containerEl.clientHeight;
    }
  } else if ("vconcat" in spec) {
    const vconcat = spec.vconcat;
    if ("plot" in vconcat[0]) {
      vconcat[0].width = containerEl.clientWidth;
      vconcat[0].height = containerEl.clientHeight;
    }
  }
  return spec;
}
var mosaic_default = { render };
export {
  mosaic_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vanMvd2lkZ2V0cy9tb3NhaWMudHMiLCAiLi4vLi4vLi4vanMvY29udGV4dC9pbmRleC50cyIsICIuLi8uLi8uLi9qcy9jb250ZXh0L2R1Y2tkYi50cyIsICIuLi8uLi8uLi9qcy9pbnB1dHMvcmFkaW8udHMiLCAiLi4vLi4vLi4vanMvaW5wdXRzL3R5cGVzLnRzIiwgIi4uLy4uLy4uL2pzL2lucHV0cy9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBSZW5kZXJQcm9wcyB9IGZyb20gJ0Bhbnl3aWRnZXQvdHlwZXMnO1xuXG5pbXBvcnQge1xuICAgIFNwZWMsXG4gICAgU3BlY05vZGUsXG4gICAgcGFyc2VTcGVjLFxuICAgIEluc3RhbnRpYXRlQ29udGV4dCxcbiAgICBBU1ROb2RlLFxufSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLXNwZWNAMC4xNi4yLytlc20nO1xuXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQHV3ZGF0YS9tb3NhaWMtY29yZUAwLjE2LjIvK2VzbSc7XG5cbmltcG9ydCB7IHZpekNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0JztcbmltcG9ydCB7IGN1c3RvbUlucHV0cyB9IGZyb20gJy4uL2lucHV0cyc7XG5cbmludGVyZmFjZSBNb3NhaWNQcm9wcyB7XG4gICAgdGFibGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgIHNwZWM6IHN0cmluZztcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH06IFJlbmRlclByb3BzPE1vc2FpY1Byb3BzPikge1xuICAgIC8vIHVud3JhcCB3aWRnZXQgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHRhYmxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IG1vZGVsLmdldCgndGFibGVzJykgfHwge307XG4gICAgY29uc3Qgc3BlY19qc29uOiBzdHJpbmcgPSBtb2RlbC5nZXQoJ3NwZWMnKTtcblxuICAgIC8vIGdldCBjb250ZXh0XG4gICAgY29uc3QgY3R4ID0gYXdhaXQgdml6Q29udGV4dCgpO1xuXG4gICAgLy8gaGFuZGxlIHRhYmxlc1xuICAgIGZvciAoY29uc3QgW3RhYmxlTmFtZSwgYmFzZTY0RGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGFibGVzKSkge1xuICAgICAgICBpZiAoYmFzZTY0RGF0YSkge1xuICAgICAgICAgICAgLy8gZGVjb2RlIGJhc2U2NCB0byBieXRlc1xuICAgICAgICAgICAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjREYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5U3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluc2VydCB0YWJsZSBpbnRvIGNvbnRleHRcbiAgICAgICAgICAgIGF3YWl0IGN0eC5pbnNlcnRUYWJsZSh0YWJsZU5hbWUsIGJ5dGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRhYmxlIGlmIG5vIGRhdGEgcHJvdmlkZWRcbiAgICAgICAgICAgIGF3YWl0IGN0eC53YWl0Rm9yVGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1vc2FpYyB3aWRnZXRzIGFscmVhZHkgaGF2ZSBzdWZmaWNpZW50IG1hcmdpbi9wYWRkaW5nIHNvIG92ZXJyaWRlXG4gICAgLy8gYW55IGhvc3QgcHJlc2NyaWJlZCBib3R0b20gbWFyZ2luLlxuICAgIGNvbnN0IHdpZGdldEVsID0gZWwuY2xvc2VzdCgnLndpZGdldC1zdWJhcmVhJykgYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gICAgaWYgKHdpZGdldEVsKSB7XG4gICAgICAgIHdpZGdldEVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcwJztcbiAgICB9XG5cbiAgICAvLyBkZXRlY3Qgd2hldGhlciB3ZSBzaG91bGQgYmUgYXV0by1maWxsaW5nIG91ciBjb250YWluZXJcbiAgICBjb25zdCBhdXRvRmlsbCA9XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygncXVhcnRvLWRhc2hib2FyZCcpICYmXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFzaGJvYXJkLWZpbGwnKTtcblxuICAgIC8vIHJlbmRlciBzcGVjIGFjY29yZGluZyB0byBjb250YWluZXIgc2l6ZVxuICAgIGNvbnN0IHNwZWM6IFNwZWMgPSBKU09OLnBhcnNlKHNwZWNfanNvbik7XG4gICAgY29uc3QgcmVuZGVyU3BlYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0U3BlYyA9IGF1dG9GaWxsID8gc2l6ZVRvQ29udGFpbmVyKHNwZWMsIGVsKSA6IHNwZWM7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBTZXQoXG4gICAgICAgICAgICBbJ21lbnUnLCAnc2VhcmNoJywgJ3NsaWRlcicsICd0YWJsZSddLmNvbmNhdChPYmplY3Qua2V5cyhjdXN0b21JbnB1dHMpKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhc3QgPSBwYXJzZVNwZWModGFyZ2V0U3BlYywgeyBpbnB1dHMgfSk7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gYXdhaXQgYXN0VG9ET00oYXN0LCBjdHgpO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBhd2FpdCByZW5kZXJTcGVjKCk7XG5cbiAgICAvLyByZS1yZW5kZXIgd2hlbiBzaXplIGNoYW5nZXMgaW4gcXVhcnRvIGRhc2hib2FyZHNcbiAgICBpZiAoYXV0b0ZpbGwpIHtcbiAgICAgICAgLy8gcmUtcmVuZGVyIG9uIGNvbnRhaW5lciBzaXplIGNoYW5nZWRcbiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhyb3R0bGUocmVuZGVyU3BlYykpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsKTtcblxuICAgICAgICAvLyBjbGVhbnVwIHJlc2l6ZSBvYnNlcnZlciBvbiBkaXNjb25uZWN0XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhc3RUb0RPTShhc3Q6IFNwZWNOb2RlLCBjdHg6IEluc3RhbnRpYXRlQ29udGV4dCkge1xuICAgIC8vIHByb2Nlc3MgcGFyYW0vc2VsZWN0aW9uIGRlZmluaXRpb25zXG4gICAgZm9yIChjb25zdCBbbmFtZSwgbm9kZV0gb2YgT2JqZWN0LmVudHJpZXMoYXN0LnBhcmFtcykpIHtcbiAgICAgICAgLy8gc2tpcCBkZWZpbml0aW9ucyB3aXRoIG5hbWVzIGFscmVhZHkgZGVmaW5lZFxuICAgICAgICBpZiAoIWN0eC5hY3RpdmVQYXJhbXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IChub2RlIGFzIEFTVE5vZGUpLmluc3RhbnRpYXRlKGN0eCk7XG4gICAgICAgICAgICBjdHguYWN0aXZlUGFyYW1zLnNldChuYW1lLCBwYXJhbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbnN0YW50aWF0ZSBhbmQgcmV0dXJuIHJvb3QgY29udGV4dCArIHBhcmFtc1xuICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnQ6IGFzdC5yb290Lmluc3RhbnRpYXRlKGN0eCksXG4gICAgICAgIHBhcmFtczogY3R4LmFjdGl2ZVBhcmFtcyxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBzaXplVG9Db250YWluZXIoc3BlYzogU3BlYywgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogU3BlYyB7XG4gICAgc3BlYyA9IHN0cnVjdHVyZWRDbG9uZShzcGVjKTtcbiAgICBpZiAoJ3Bsb3QnIGluIHNwZWMpIHtcbiAgICAgICAgY29uc3QgcGxvdCA9IHNwZWMucGxvdFswXTtcbiAgICAgICAgaWYgKCd3aWR0aCcgaW4gcGxvdCAmJiAnaGVpZ2h0JyBpbiBwbG90KSB7XG4gICAgICAgICAgICBwbG90LndpZHRoID0gY29udGFpbmVyRWwuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBwbG90LmhlaWdodCA9IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ2hjb25jYXQnIGluIHNwZWMpIHtcbiAgICAgICAgY29uc3QgaGNvbmNhdCA9IHNwZWMuaGNvbmNhdDtcbiAgICAgICAgaWYgKCdwbG90JyBpbiBoY29uY2F0WzBdKSB7XG4gICAgICAgICAgICBoY29uY2F0WzBdLndpZHRoID0gY29udGFpbmVyRWwuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBoY29uY2F0WzBdLmhlaWdodCA9IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ3Zjb25jYXQnIGluIHNwZWMpIHtcbiAgICAgICAgY29uc3QgdmNvbmNhdCA9IHNwZWMudmNvbmNhdDtcbiAgICAgICAgaWYgKCdwbG90JyBpbiB2Y29uY2F0WzBdKSB7XG4gICAgICAgICAgICB2Y29uY2F0WzBdLndpZHRoID0gY29udGFpbmVyRWwuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB2Y29uY2F0WzBdLmhlaWdodCA9IGNvbnRhaW5lckVsLmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3BlYztcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTtcbiIsICJpbXBvcnQgeyBBc3luY0R1Y2tEQkNvbm5lY3Rpb24gfSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BkdWNrZGIvZHVja2RiLXdhc21AMS4yOS4wLytlc20nO1xuXG5pbXBvcnQgeyB3YXNtQ29ubmVjdG9yIH0gZnJvbSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AdXdkYXRhL21vc2FpYy1jb3JlQDAuMTYuMi8rZXNtJztcblxuaW1wb3J0IHsgSW5zdGFudGlhdGVDb250ZXh0IH0gZnJvbSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AdXdkYXRhL21vc2FpYy1zcGVjQDAuMTYuMi8rZXNtJztcblxuaW1wb3J0IHsgaW5pdER1Y2tkYiwgd2FpdEZvclRhYmxlIH0gZnJvbSAnLi9kdWNrZGInO1xuaW1wb3J0IHsgY3VzdG9tSW5wdXRzIH0gZnJvbSAnLi4vaW5wdXRzJztcblxuY2xhc3MgVml6Q29udGV4dCBleHRlbmRzIEluc3RhbnRpYXRlQ29udGV4dCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0YWJsZXNfID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbm5fOiBBc3luY0R1Y2tEQkNvbm5lY3Rpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hcGkgPSB7IC4uLnRoaXMuYXBpLCAuLi5jdXN0b21JbnB1dHMgfTtcbiAgICAgICAgdGhpcy5jb29yZGluYXRvci5kYXRhYmFzZUNvbm5lY3Rvcih3YXNtQ29ubmVjdG9yKHsgY29ubmVjdGlvbjogdGhpcy5jb25uXyB9KSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5zZXJ0VGFibGUodGFibGU6IHN0cmluZywgZGF0YTogVWludDhBcnJheSkge1xuICAgICAgICAvLyBpbnNlcnQgdGFibGUgaW50byBkYXRhYmFzZVxuICAgICAgICBhd2FpdCB0aGlzLmNvbm5fPy5pbnNlcnRBcnJvd0Zyb21JUENTdHJlYW0oZGF0YSwge1xuICAgICAgICAgICAgbmFtZTogdGFibGUsXG4gICAgICAgICAgICBjcmVhdGU6IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFkZCB0byBsaXN0IG9mIHRhYmxlc1xuICAgICAgICB0aGlzLnRhYmxlc18uYWRkKHRhYmxlKTtcbiAgICB9XG5cbiAgICBhc3luYyB3YWl0Rm9yVGFibGUodGFibGU6IHN0cmluZykge1xuICAgICAgICBhd2FpdCB3YWl0Rm9yVGFibGUodGhpcy5jb25uXywgdGFibGUpO1xuICAgIH1cbn1cblxuLy8gZ2V0IHRoZSBnbG9iYWwgY29udGV4dCBpbnN0YW5jZSwgZW5zdXJpbmcgd2UgZ2V0IHRoZSBzYW1lXG4vLyBpbnN0YW5jZSBldmFsIGFjcm9zcyBkaWZmZXJlbnQganMgYnVuZGxlcyBsb2FkZWQgaW50byB0aGUgcGFnZVxuY29uc3QgVklaX0NPTlRFWFRfS0VZID0gU3ltYm9sLmZvcignQEBpbnNwZWN0LXZpei1jb250ZXh0Jyk7XG5hc3luYyBmdW5jdGlvbiB2aXpDb250ZXh0KCk6IFByb21pc2U8Vml6Q29udGV4dD4ge1xuICAgIGNvbnN0IGdsb2JhbFNjb3BlOiBhbnkgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbFRoaXM7XG4gICAgaWYgKCFnbG9iYWxTY29wZVtWSVpfQ09OVEVYVF9LRVldKSB7XG4gICAgICAgIGdsb2JhbFNjb3BlW1ZJWl9DT05URVhUX0tFWV0gPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZHVja2RiID0gYXdhaXQgaW5pdER1Y2tkYigpO1xuICAgICAgICAgICAgY29uc3QgY29ubiA9IGF3YWl0IGR1Y2tkYi5jb25uZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZpekNvbnRleHQoY29ubik7XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxTY29wZVtWSVpfQ09OVEVYVF9LRVldIGFzIFByb21pc2U8Vml6Q29udGV4dD47XG59XG5cbmV4cG9ydCB7IFZpekNvbnRleHQsIHZpekNvbnRleHQgfTtcbiIsICJpbXBvcnQge1xuICAgIGdldEpzRGVsaXZyQnVuZGxlcyxcbiAgICBzZWxlY3RCdW5kbGUsXG4gICAgQXN5bmNEdWNrREIsXG4gICAgQ29uc29sZUxvZ2dlcixcbiAgICBBc3luY0R1Y2tEQkNvbm5lY3Rpb24sXG4gICAgTG9nTGV2ZWwsXG59IGZyb20gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQGR1Y2tkYi9kdWNrZGItd2FzbUAxLjI5LjAvK2VzbSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0RHVja2RiKCkge1xuICAgIGNvbnN0IEpTREVMSVZSX0JVTkRMRVMgPSBnZXRKc0RlbGl2ckJ1bmRsZXMoKTtcblxuICAgIC8vIFNlbGVjdCBhIGJ1bmRsZSBiYXNlZCBvbiBicm93c2VyIGNoZWNrc1xuICAgIGNvbnN0IGJ1bmRsZSA9IGF3YWl0IHNlbGVjdEJ1bmRsZShKU0RFTElWUl9CVU5ETEVTKTtcblxuICAgIGNvbnN0IHdvcmtlcl91cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKFxuICAgICAgICBuZXcgQmxvYihbYGltcG9ydFNjcmlwdHMoXCIke2J1bmRsZS5tYWluV29ya2VyIX1cIik7YF0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnLFxuICAgICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBJbnN0YW50aWF0ZSB0aGUgYXN5bmNocm9ub3VzIHZlcnNpb24gb2YgRHVja0RCLXdhc21cbiAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlcl91cmwpO1xuICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKExvZ0xldmVsLldBUk5JTkcpO1xuICAgIGNvbnN0IGRiID0gbmV3IEFzeW5jRHVja0RCKGxvZ2dlciwgd29ya2VyKTtcbiAgICBhd2FpdCBkYi5pbnN0YW50aWF0ZShidW5kbGUubWFpbk1vZHVsZSwgYnVuZGxlLnB0aHJlYWRXb3JrZXIpO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyX3VybCk7XG5cbiAgICByZXR1cm4gZGI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yVGFibGUoXG4gICAgY29ubjogQXN5bmNEdWNrREJDb25uZWN0aW9uLFxuICAgIHRhYmxlOiBzdHJpbmcsXG4gICAgeyB0aW1lb3V0ID0gMTBfMDAwLCBpbnRlcnZhbCA9IDI1MCB9ID0ge31cbikge1xuICAgIGNvbnN0IHQwID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY29ubi5xdWVyeShcbiAgICAgICAgICAgICAgICBgU0VMRUNUIDFcbiAgICAgICAgICAgRlJPTSBpbmZvcm1hdGlvbl9zY2hlbWEudGFibGVzXG4gICAgICAgICBXSEVSRSB0YWJsZV9zY2hlbWEgPSAnbWFpbidcbiAgICAgICAgICAgQU5EIHRhYmxlX25hbWUgICA9ICcke3RhYmxlfSdcbiAgICAgICAgIExJTUlUIDFgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAocmVzLm51bVJvd3MpIHJldHVybjsgLy8gc3VjY2VzcyBcdTI3MjhcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBgVGFibGUgJHt0YWJsZX0gbm90IHlldCBhdmFpbGFibGUsIHRyeWluZyBhZ2FpbiBpbiAke2ludGVydmFsfW1zIChlcnJvcjogJHtlcnJ9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0MCA+IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGltZWQgb3V0IHdhaXRpbmcgZm9yIHRhYmxlIFwiJHt0YWJsZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBpbnRlcnZhbCkpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBjb29yZGluYXRvciB9IGZyb20gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQHV3ZGF0YS9tb3NhaWMtY29yZUAwLjE2LjIvK2VzbSc7XG5cbmltcG9ydCB7IElucHV0T3B0aW9ucywgSW5wdXQgfSBmcm9tICcuL3R5cGVzJztcblxuY2xhc3MgUmFkaW9JbnB1dCBleHRlbmRzIElucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJbnB1dE9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucy5maWx0ZXJCeSwgb3B0aW9ucy5lbGVtZW50KTtcbiAgICAgICAgY29uc3Qgc3Ryb25nRWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3Ryb25nJyk7XG4gICAgICAgIHN0cm9uZ0VsLmlubmVyVGV4dCA9ICdTVFJPTkcnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Ryb25nRWwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhZGlvKG9wdGlvbnM6IElucHV0T3B0aW9ucyk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBpbnB1dCA9IG5ldyBSYWRpb0lucHV0KG9wdGlvbnMpO1xuICAgIGNvb3JkaW5hdG9yKCkuY29ubmVjdChpbnB1dCk7XG4gICAgcmV0dXJuIGlucHV0LmVsZW1lbnQ7XG59XG4iLCAiaW1wb3J0IHtcbiAgICBNb3NhaWNDbGllbnQsXG4gICAgU2VsZWN0aW9uLFxufSBmcm9tICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B1d2RhdGEvbW9zYWljLWNvcmVAMC4xNi4yLytlc20nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElucHV0T3B0aW9ucyB7XG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgZmlsdGVyQnk6IFNlbGVjdGlvbjtcbn1cblxuZXhwb3J0IHR5cGUgSW5wdXRGdW5jdGlvbiA9IChvcHRpb25zOiBJbnB1dE9wdGlvbnMpID0+IEhUTUxFbGVtZW50O1xuXG4vLyBmcm9tIHVuZXhwb3J0ZWQgSW5wdXQgY2xhc3MgaW4gbW9zYWljLWlucHV0c1xuZXhwb3J0IGNsYXNzIElucHV0IGV4dGVuZHMgTW9zYWljQ2xpZW50IHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgY29uc3RydWN0b3IoZmlsdGVyQnk6IFNlbGVjdGlvbiwgZWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nID0gJ2lucHV0Jykge1xuICAgICAgICBzdXBlcihmaWx0ZXJCeSk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NOYW1lKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZWxlbWVudCwgJ3ZhbHVlJywgeyB2YWx1ZTogdGhpcyB9KTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZSgpIHtcbiAgICAgICAgLy8gc3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGVcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgcmFkaW8gfSBmcm9tICcuL3JhZGlvJztcbmltcG9ydCB7IElucHV0RnVuY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGN1c3RvbUlucHV0czogUmVjb3JkPHN0cmluZywgSW5wdXRGdW5jdGlvbj4gPSB7XG4gICAgcmFkaW86IHJhZGlvLFxufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFFQTtBQUFBLEVBR0k7QUFBQSxPQUdHO0FBRVAsU0FBUyxnQkFBZ0I7OztBQ1J6QixTQUFTLHFCQUFxQjtBQUU5QixTQUFTLDBCQUEwQjs7O0FDSm5DO0FBQUEsRUFDSTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFD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
